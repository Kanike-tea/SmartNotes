Microcontrollers - BCS402

The strategy implemented in a cache controller to select the next victim is called its replacement
policy. The replacement policy selects a cache line from the available associative member set;
that is, it selects the way to use in the next cache line replacement. To summarize the overall
process, the set index selects the set of cache lines available in the ways, and the replacement
policy selects the specific cache line from the set to replace. ARM cached cores support two

replacement policies, either pseudorandom or round-robin.

Round-robin or cyclic replacement simply selects the next cache line in a set to replace. The
selection algorithm uses a sequential, incrementing victim counter that increments each time the
cache controller allocates a cache line. When the victim counter reaches a maximum value, it is

reset to a defined base value.

Pseudorandom replacement randomly selects the next cache line in a set to replace. The selection
algorithm uses a non sequential incrementing victim counter. In a pseudorandom replacement
algorithm the controller increments the victim counter by randomly selecting an increment value
and adding this value to the victim counter. When the victim counter reaches a maximum value,

it is reset to a defined base value.
Allocation Policy on a Cache Miss

There are two strategies ARM caches may use to allocate a cache line after the occurrence of a
cache miss. The first strategy is known as read-allocate, and the second strategy is known as

read-write-allocate.

A read allocate on cache miss policy allocates a cache line only during a read from main
memory. If the victim cache line contains valid data, then it is written to main memory before the

cache line is filled with new data.

Under this strategy, a write of new data to memory does not update the contents of the cache
memory unless a cache line was allocated on a previous read from main memory. If the cache
line contains valid data, then a write updates the cache and may update main memory if the
cache write policy is writethrough. If the data is not in cache, the controller writes to main

memory only.

Dept. of ECE, GSSSIETW, Mysuru Page 44