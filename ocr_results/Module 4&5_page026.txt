Microcontrollers - BCS402

The serial port is set to 9600 baud, no parity, one stop bit, and no flow control. If a serial cable is

attached to the board, then the host terminal has to be configured with these settings.
The results of executing step 4 are the following:

e Serial port initialized—9600 baud, no parity, one stop bit, and no flow control.

e Sandstone banner sent out through the serial port:

Sandstone Firmware (0.01)

- platform .. . e7t
- status .. . alive
- memory .. » remapped

+ booting payload ...

Step 5: Bootloader—Copy Payload and Relinquish Control

The final stage involves copying a payload and relinquishing control of the pe over to the copied

payload.

sandstone_load_and_boot
MOV r13,#0 3 destination addr
LDR rl2,payload_start_address ; start addr
LDR r14,payload_end_address 3 end addr

The first part of the code sets up the registers r12,r13, and r14 used in the block copy.

copy
LOMIA r12!, {r0-r11}
STMIA r13!,{r0-r11}
CMP ri2,r14
BLT _copy
MOV pc, #0

payload_start_address

DCD startAddress
payload_end_address

ocD endAddress

The results of executing step 5 are the following:

Dept. of ECE, GSSSIETW, Mysuru Page 27