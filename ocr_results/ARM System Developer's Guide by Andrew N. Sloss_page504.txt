CHAPTER

MEMORY
MANAGEMENT
UNITS

When creating a multitasking embedded system, it makes sense to have an easy way to
write, load, and run independent application tasks. Many of today’s embedded systems
use an operating system instead of a custom proprietary control system to simplify this
process. More advanced operating systems use a hardware-based memory management
unit (MMU).

One of the key services provided by an MMU is the ability to manage tasks as indepen-
dent programs running in their own private memory space. A task written to run under
the control of an operating system with an MMU does not need to know the memory
requirements of unrelated tasks. This simplifies the design requirements of individual tasks
running under the control of an operating system.

In Chapter 13 we introduced processor cores with memory protection units. These
cores have a single addressable physical memory space. The addresses generated by the
processor core while running a task are used directly to access main memory, which
makes it impossible for two programs to reside in main memory at the same time if
they are compiled using addresses that overlap. This makes running several tasks in an
embedded system difficult because each task must run in a distinct address block in main
memory.

The MMU simplifies the programming of application tasks because it provides the
resources needed to enable virtual memory—an additional memory space that is indepen-
dent of the physical memory attached to the system. The MMU acts as a translator, which
converts the addresses of programs and data that are compiled to run in virtual memory

491