8 Chapter 1 ARM Embedded Systems

1.3.1 ARM BUS TECHNOLOGY

Embedded systems use different bus technologies than those designed for x86 PCs. The most
common PC bus technology, the Peripheral Component Interconnect (PCI) bus, connects
such devices as video cards and hard disk controllers to the x86 processor bus. This type
of technology is external or off-chip (i.e., the bus is designed to connect mechanically and
electrically to devices external to the chip) and is built into the motherboard of a PC.

In contrast, embedded devices use an on-chip bus that is internal to the chip and that
allows different peripheral devices to be interconnected with an ARM core.

There are two different classes of devices attached to the bus. The ARM processor core is
a bus master—a logical device capable of initiating a data transfer with another device across
the same bus. Peripherals tend to be bus slaves—logical devices capable only of responding
to a transfer request from a bus master device.

A bus has two architecture levels. The first is a physical level that covers the electrical
characteristics and bus width (16, 32, or 64 bits). The second level deals with protoco-—the
logical rules that govern the communication between the processor and a peripheral.

ARM is primarily a design company. It seldom implements the electrical characteristics
of the bus, but it routinely specifies the bus protocol.

1.3.2. AMBA BUS PROTOCOL

The Advanced Microcontroller Bus Architecture (AMBA) was introduced in 1996 and has
been widely adopted as the on-chip bus architecture used for ARM processors. The first
AMBA buses introduced were the ARM System Bus (ASB) and the ARM Peripheral Bus
(APB). Later ARM introduced another bus design, called the ARM High Performance Bus
(AHB). Using AMBA, peripheral designers can reuse the same design on multiple projects.
Because there are a large number of peripherals developed with an AMBA interface, hard-
ware designers have a wide choice of tested and proven peripherals for use in a device.
A peripheral can simply be bolted onto the on-chip bus without having to redesign an inter-
face for each different processor architecture. This plug-and-play interface for hardware
developers improves availability and time to market.

AHB provides higher data throughput than ASB because it is based on a centralized
multiplexed bus scheme rather than the ASB bidirectional bus design. This change allows
the AHB bus to run at higher clock speeds and to be the first ARM bus to support widths
of 64 and 128 bits. ARM has introduced two variations on the AHB bus: Multi-layer AHB
and AHB-Lite. In contrast to the original AHB, which allows a single bus master to be
active on the bus at any time, the Multi-layer AHB bus allows multiple active bus masters.
AHB-Lite is a subset of the AHB bus and it is limited to a single bus master. This bus was
developed for designs that do not require the full features of the standard AHB bus.

AHB and Multi-layer AHB support the same protocol for master and slave but have
different interconnects. The new interconnects in Multi-layer AHB are good for systems
with multiple processors. They permit operations to occur in parallel and allow for higher
throughput rates.