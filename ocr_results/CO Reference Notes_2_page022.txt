ENABLING & DISABLING INTERRUPTS
¢ All computers fundamentally should be able to enable and disable interruptions as desired.
© The problem of infinite loop occurs due to successive interruptions of active INTR signals.
¢ There are 3 mechanisms to solve problem of infinite loop:
1) Processor should ignore the interrupts until execution of first instruction of the ISR.
2) Processor should automatically disable interrupts before starting the execution of the ISR.
3) Processor has a special INTR line for which the interrupt-handling circuit.
Interrupt-circuit responds only to leading edge of signal. Such line is called edge-triggered.
© Sequence of events involved in handling an interrupt-request:
1) The device raises an interrupt-request.
2) The processor interrupts the program currently being executed.
3) Interrupts are disabled by changing the control bits in the processor status register (PS).
4) The device is informed that its request has been recognized.
In response, the device deactivates the interrupt-request signal.
5) The action requested by the interrupt is performed by the interrupt-service routine.
6) Interrupts are enabled and execution of the interrupted program is resumed.

HANDLING MULTIPLE DEVICES
¢ While handling multiple devices, the issues concerned are:
1) How can the processor recognize the device requesting an interrupt?
2) How can the processor obtain the starting address of the appropriate ISR?
3) Should a device be allowed to interrupt the processor while another interrupt is
being serviced?
4) How should 2 or more simultaneous interrupt-requests be handled?

POLLING

¢ Information needed to determine whether device is requesting interrupt is available in status-register
¢ Following condition-codes are used:

> DIRQ > Interrupt-request for display.

> KIRQ > Interrupt-request for keyboard.

> KEN > keyboard enable.

> DEN > Display Enable.

> SIN, SOUT 3 status flags.
For an input device, SIN status flag in used.

SIN = 1 > when a character is entered at the keyboard.

SIN = 0 > when the character is read by processor.
IRQ=1 > when a device raises an interrupt-requests (Figure 4.3).

¢ Simplest way to identify interrupting-device is to have ISR poll all devices connected to bus.
¢ The first device encountered with its IRQ bit set is serviced.
After servicing first device, next requests may be serviced.
« Advantage: Simple & easy to implement.

Disadvantage: More time spent polling IRQ bits of all devices.

DATAIN

Cd

searos | TT prof xno [sour] six |
common | OT TY fof]

7 6 s 4 3 2 1 0

Figure 4.3 Registers in keyboard and display interfaces.

Page 23