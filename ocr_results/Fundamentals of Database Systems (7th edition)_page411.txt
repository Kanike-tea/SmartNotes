12.2 Object Database Extensions to SQL 381

(a)

(b)

(c)

CREATE TYPE STREET_ADDR_TYPE AS ( Figure 12.4
NUMBER VARCHAR (5), Illustrating some of the object
STREET NAME VARCHAR (28), features of SQL. (a) Using UDTs
APT_NO VARCHAR (5), as types for ates such as

Address and Phone, (b) specifyin

_ SUITE_NO VARCHAR (6) UDT for PERSON. TYPE,

di (©) specifying UDTs for

CREATE TYPE USA_ADDR_TYPE AS ( STUDENT_TYPE and EMPLOYEE_TYPE
STREET_ADDR STREET_ADDR_TYPE, as two sublypes of PERSON._TYPE.
city VARCHAR (25),
zIP VARCHAR (10)

);
CREATE TYPE USA_PHONE_TYPE AS (
PHONE_TYPE VARCHAR (5),

AREA_CODE CHAR (3),
PHONE_NUM CHAR (7)
)

CREATE TYPE PERSON_TYPE AS (

NAME VARCHAR (35),
SEX CHAR,
BIRTH_DATE DATE,
PHONES USA_PHONE_TYPE ARRAY [4],
ADDR USA_ADDR_TYPE
INSTANTIABLE
NOT FINAL

REF IS SYSTEM GENERATED
INSTANCE METHOD AGE() RETURNS INTEGER;
CREATE INSTANCE METHOD AGE() RETURNS INTEGER

FOR PERSON_TYPE

BEGIN

RETURN /* CODE TO CALCULATE A PERSON'S AGE FROM
TODAY'S DATE AND SELF.BIRTH_DATE */

END;

)

CREATE TYPE GRADE_TYPE AS (
COURSENO CHAR (8),
SEMESTER VARCHAR (8),
YEAR CHAR (4),
GRADE CHAR

);

CREATE TYPE STUDENT_TYPE UNDER PERSON_TYPE AS (
MAJOR_CODE CHAR (4),

STUDENT_ID CHAR (12),
DEGREE VARCHAR (5),
TRANSCRIPT — GRADE_TYPE ARRAY [100] (continues)