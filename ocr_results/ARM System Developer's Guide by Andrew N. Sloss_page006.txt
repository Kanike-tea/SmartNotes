vi Contents

CHAPTER

4

CHAPTER

5

CHAPTER

6

INTRODUCTION TO THE THUMB INSTRUCTION SET 87
4.1 Thumb Register Usage 89
4.2. ARM-Thumb Interworking 90
4.3 Other Branch Instructions 92
4.4 Data Processing Instructions 93
4.5 Single-Register Load-Store Instructions 96
4.6 Multiple-Register Load-Store Instructions 97
4.7 Stack Instructions 98
4.8 Software Interrupt Instruction 99
4.9 Summary 100
EFFICIENT C PROGRAMMING 103
5.1 Overview of C Compilers and Optimization 104
5.2 Basic C Data Types 105
5.3 C Looping Structures 113
5.4 Register Allocation 120
5.5 Function Calls 122
5.6 Pointer Aliasing 127
5.7 Structure Arrangement 130
5.8 Bit-fields 133
5.9 Unaligned Data and Endianness 136
5.10 Division 140
5.11 Floating Point 149
5.12 Inline Functions and Inline Assembly 149
5.13 Portability Issues 153
5.14 Summary 155
WRITING AND OPTIMIZING ARM ASSEMBLY CODE 157
6.1 Writing Assembly Code 158
6.2 Profiling and Cycle Counting 163
6.3 Instruction Scheduling 163
64 — Register Allocation 171
6.5 Conditional Execution 180
6.6 Looping Constructs 183
6.7. Bit Manipulation 191
6.8 — Efficient Switches 197