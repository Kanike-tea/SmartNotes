Table A.11

A.3 Alphabetical List of ARM and Thumb Instructions 611

STM addressing modes.

â€˜Addressing Lowest address Highest address Value written back
mode accessed accessed to Rnif | specified
{IA|EA} Rn Rn + N*4 - 4 Rn + N*4
{1B|FA} Rn + 4 Rn + N*4. Rn + N*4
{DA|ED} Rn - N*4 + 4 Rn Rn - N*4
{DB|FD} Rn - N*4 Rn - 4 Rn - N*4

assembler allows you to specify the registers in the list in any order, the order is not stored in
the instruction, so it is good practice to write the list in increasing order of register number
since this is the usual order of the memory transfer.

The following pseudocode shows the normal action of STM. We use <register_list>[i]
to denote the register appearing at position i in the list starting at 0 for the first register.
This assumes that the list is in order of increasing register number.

N= the number of registers in <register_list>
start = the lowest address accessed given in Table A.11
for (i=0; i<N; i++)
memory(start+i*4, 4) = <register_list=[i];
if (! specified) then update Rn according to Table A.11

Note that memory(a, 4) refers to the four bytes at address a packed according to the
current processor data endianness. If a is not a multiple of four, then the store is unaligned.
Because the behavior of an unaligned store depends on the architecture revision, memory
system, and system coprocessor (CP15) configuration, it is best to avoid unaligned stores if
possible. Assuming that the external memory system does not abort unaligned stores, then
the following rules usually apply:

= If the core has a system coprocessor and bit 1 (A-bit) or bit 22 (U-bit) of CP15:cl:c0:0
is set, then unaligned store-multiples cause an alignment fault data abort exception.

= Otherwise, the access ignores the bottom two address bits.

Table A.11 lists the possible addressing modes specified by <amode>. If you specify the !,
then the base address register is updated according to Table A.11; otherwise, it is preserved.
Note that the lowest register number is always written to the lowest address.

The first half of the addressing mode mnemonics stands for Increment After, Increment
Before, Decrement After, and Decrement Before, respectively. Increment modes store
the registers sequentially forward starting from address Rn (increment after) or Rn + 4
(increment before). Decrement modes have the same effect as if you stored the register