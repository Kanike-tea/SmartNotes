Microcontrollers — BCS402

PRE : 15 =5,17 =8 POST : r5 = 5,17 = 20
The example multiplies register r5 by four and then places the result into register r7.

The five different shift operations that you can use within the barrel shifter are summarized in
Table 2. Figure 2 illustrates a logical shift left by one. For example, the contents of bit 0 are

shifted to bit 1. Bit 0 is cleared. The C flag is updated with the last bit shifted out of the

register.
Table 2: Barrel shifter operations

Mnemonic — Description Shift Result Shift amount y
LSL logical shift left xUSLy x«y 0-31 or Rs
LSR logical shift right XLSRy — (unsigned)x >> y #1-32 or Rs
ASR arithmetic right shift xASRy — (signed)x > y #1-32 or Rs
ROR rotate right XRORy — ((unsigned)x >> y) | (x« (32-y)) #1-31 or Rs
RRX rotate right extended =xRRX —(c flag « 31) | ((unsigned)x > 1) none

Note: x represents the register being shifted and y represents the shift amount.

= 0x80000004

= 0x00000008
Condition Bags

Condition flags
updated when

S is present

Fig 2: Logic shift left by one position

Table 3: Barrel shift operation syntax for data processing instructions

Dept. of ECE, GSSSIETW Page 5