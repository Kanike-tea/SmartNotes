Microcontrollers â€” BCS402

B | branch pe=label
BL

branch with link pe=label
Ir=address of the next instruction after the BL

BX | branch exchange pce=Rm & Oxfffffffe, T=Rm & 1

BLX | branch exchange with link | pc= label, T=1
pc=Rm & Oxfffffffe, T=Rm & 1
Ir=address of the next instruction after the BLX

The address label is stored in the instruction as a signed pc-relative offset and must be within
approximately 32 MB of the branch instruction. T refers to the Thumb bit in the cpsr. When

instructions set T, the ARM switches to Thumb state.
Example 1:

B forward

ADD rl, 12, #4

ADD 10, r6, #2

ADD 13, 17, #4
forward

SUB rl, 12, #4
backward

ADD rl, 12, #4

SUB rl, 12, #4

ADD r4, r6, r7

B backward

This example shows a forward and backward branch. Because these loops are address
specific, we do not include the pre- and post-conditions. The forward branch skips three

instructions. The backward branch creates an infinite loop.

Branches are used to change execution flow. Most assemblers hide the details of a branch
instruction encoding by using labels. In this example, forward and backward are the labels.
The branch labels are placed at the beginning of the line and are used to mark an address that

can be used later by the assembler to calculate the branch offset.

Dept. of ECE, GSSSIETW Page 12