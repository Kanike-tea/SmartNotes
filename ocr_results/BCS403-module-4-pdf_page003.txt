Database Management System [BCS403]

Example: Retrieve the name of each employee who has a dependent with the same first name and
is the same sex as the employee

SELECT E.Fname, E.Lname

FROM EMPLOYEE AS E

WHERE E.Ssn IN ( SELECT Essn

FROM DEPENDENT AS D

WHERE E.Fname=D.Dependent_name

AND E.Sex=D.Sex );
In the above nested query, we must qualify E.Sex because it refers to the Sex attribute of
EMPLOYEE from the outer query, and DEPENDENT also has an attribute called Sex.

1.1.3 Correlated Nested Queries
Whenever a condition in the WHERE clause of a nested query references some attribute of a
relation declared in the outer query, the two queries are said to be correlated.
Example:

SELECT E.Fname, E.Lname

FROM EMPLOYEE AS E

WHERE E.Ssn IN ( SELECT Essn

FROM DEPENDENT AS D

WHERE E.Fname=D.Dependent_name

AND E.Sex=D.Sex );
The nested query is evaluated once for each tuple (or combination of tuples) in the outer query. we
can think of query in above example as follows: For each EMPLOYEE tuple, evaluate the nested
query, which retrieves the Essn. values for all DEPENDENT tuples with the same sex and name as
that EMPLOYEE tuple; if the Ssn value of the EMPLOYEE tuple is in the result of the nested query,
then select that EMPLOYEE tuple.

1.1.4 The EXISTS,and UNIQUE Functions in SQL
EXISTS Functions
The EXISTS function in SQL is used to check whether the result of a correlated nested query is
empty (contains no tuples) or not. The result of EXISTS is a Boolean value

+ TRUE if the nested query result contains at least one tuple, or

+ FALSE if the nested query result contains no tuples.
For example, the query to retrieve the name of each employee who has a dependent with the same
first name and is the same sex as the employee can be written using EXISTS functions as follows:

SELECT E.Fname, E.Lname

https://vtucode.in page 21