382 Chapter 12 Object and Object-Relational Databases

Figure 12.4
(continued)

llustrating some of

the object features of
SAL. (c) (continued)
Specifying UDTs for
STUDENT_TYPE and
EMPLOYEE_TYPE as
two subtypes of
PERSON_TYPE,

(d) Creating tables based
â€˜on some of the UDTs,
and illustrating table
inheritance,

(e) Specifying
relationships using REF
and SCOPE.

(a)

(e)

INSTANTIABLE
NOT FINAL
INSTANCE METHOD GPA() RETURNS FLOAT;
CREATE INSTANCE METHOD GPA() RETURNS FLOAT
FOR STUDENT_TYPE
BEGIN
RETURN /* CODE TO CALCULATE A STUDENT'S GPA FROM
SELF.TRANSCRIPT */
END;
)
CREATE TYPE EMPLOYEE_TYPE UNDER PERSON_TYPE AS (
JOB_CODE CHAR (4),

SALARY FLOAT,
SSN CHAR (11)
INSTANTIABLE
NOT FINAL

)

CREATE TYPE MANAGER_TYPE UNDER EMPLOYEE_TYPE AS (
DEPT_MANAGED CHAR (20)

INSTANTIABLE

)

CREATE TABLE PERSON OF PERSON_TYPE
REF IS PERSON_ID SYSTEM GENERATED;

CREATE TABLE EMPLOYEE OF EMPLOYEE_TYPE
UNDER PERSON;

CREATE TABLE MANAGER OF MANAGER_TYPE
UNDER EMPLOYEE;

CREATE TABLE STUDENT OF STUDENT_TYPE
UNDER PERSON;

CREATE TYPE COMPANY_TYPE AS (
COMP_NAME VARCHAR (20),
LOCATION VARCHAR (20));
CREATE TYPE EMPLOYMENT_TYPE AS (
Employee REF (EMPLOYEE_TYPE) SCOPE (EMPLOYEE),
Company REF (COMPANY_TYPE) SCOPE (COMPANY) );
CREATE TABLE COMPANY OF COMPANY_TYPE (
REF IS COMP_ID SYSTEM GENERATED,
PRIMARY KEY (COMP_NAME) );
CREATE TABLE EMPLOYMENT OF EMPLOYMENT_TYPE;